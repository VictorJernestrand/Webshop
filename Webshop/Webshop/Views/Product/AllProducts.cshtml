@model IEnumerable<AllProductsViewModel>
@inject Microsoft.AspNetCore.Antiforgery.IAntiforgery Xsrf
@functions{
    public string GetAntiXsrfRequestToken()
    {
        return Xsrf.GetAndStoreTokens(Context).RequestToken;
    }
}
@{
    ViewData["Title"] = "Rock★Start - Alla Produkter";
}
<partial name="_AddToCartMessagePartial" />

@if (TempData["Deleted"] != null)
{

    <p>
        <font size="6">
            <span style="color: red;">
                @TempData["Deleted"]
            </span>
        </font>
    </p>

}

@if (TempData["Succesmsg"] != null)

{
    <div class="alert alert-success" role="alert">
        @TempData["Succesmsg"]
    </div>
}

@if (TempData["EditSuccesmsg"] != null)

{
    <div class="alert alert-success" role="alert">
        @TempData["EditSuccesmsg"]
    </div>
}



<h1>Alla Produkter</h1>

@if (User.IsInRole("Admin"))
{
    <p></p>
    <p>

        <a href='@Url.Action("CreateProduct", "Product")'>
            <input type='button' class="btn btn-primary" value='Lägg till Ny Produkt' />
        </a>
    </p>
}

<div class="container">
    <div class=" row justify-content-center">

        @foreach (var item in Model)
        {
            <partial name="_Productpartial" model="item" />
        }
    </div>
    <div style="display: none" id="AntiForgeryToken">@GetAntiXsrfRequestToken()</div>
</div>
